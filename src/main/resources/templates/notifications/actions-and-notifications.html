<!DOCTYPE html>
<html lang="en"
      th:replace="~{layout :: layout(title=~{::title},mainContent=~{::#main-content},pageCategory=${'actions'},breadcrumbs=~{::#breadcrumbs})}"
      xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="#{service.name} + ' - ' + #{application.start}"></title>
</head>
<body>
<div class="govuk-width-container">
  <div id="breadcrumbs">
    <a th:href="@{/home}" class="govuk-back-link"
       th:text="#{client.notifications.search.results.goBack}"/>
  </div>
  <div id="main-content">

    <h1 class="govuk-heading-l" th:text="#{client.notifications.search.results.heading}"/>

    <p class="govuk-body-l"
       th:text="#{client.notifications.search.results.totalNotificationsIntroduction(${notificationsSearchResults.totalElements})}"/>

    <a class="govuk-button moj-button-menu__item govuk-button--secondary moj-page-header-actions__action"
       role="button"
       th:href="@{/notifications/search}"
       th:text="#{client.notifications.search.results.refineSearch}"
       data-module="govuk-button"/>

    <div class="moj-scrollable-pane">
      <table class="govuk-table ccms-compact-table">
        <thead class="govuk-table__head">
        <tr class="govuk-table__row">
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'DATE_ASSIGNED',
          #{client.notifications.search.results.filter.dateAssigned})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'SUBJECT',
          #{client.notifications.search.results.filter.subject})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'DUE_DATE',
          #{client.notifications.search.results.filter.dueDate})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'USER_LOGIN_ID',
          #{client.notifications.search.results.filter.assignedTo})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'STATUS',
          #{client.notifications.search.results.filter.status})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'LSC_CASE_REF_REFERENCE',
          #{client.notifications.search.results.filter.laaRef})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'PROVIDER_CASE_REFERENCE',
          #{client.notifications.search.results.filter.providerRef})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'CLIENT_NAME',
          #{client.notifications.search.results.filter.client})}"></th>
          <th th:replace="~{partials/pagination :: sorting(${notificationsSearchResults},'FEE_EARNER',
          #{client.notifications.search.results.filter.feeEarner})}"></th>
        </tr>
        </thead>
        <tbody class="govuk-table__body">
        <tr class="govuk-table__row" th:each="notification : ${notificationsSearchResults.content}">
          <td class="govuk-table__cell"
              th:text="${#temporals.format(notification?.assignDate,'dd/MM/yyyy')}"></td>
          <td class="govuk-table__cell"><a
              th:href="@{/notifications/{notification_id}(notification_id=${notification.notificationId})}"
              th:text="${notification.subject}"></a></td>
          <td class="govuk-table__cell"
              th:text="${#temporals.format(notification.dueDate,'dd/MM/yyyy')}"></td>
          <td class="govuk-table__cell" th:text="${notification.user.loginId}"></td>
          <td class="govuk-table__cell" th:text="${notification.status}"></td>
          <td class="govuk-table__cell" th:text="${notification.caseReferenceNumber}"></td>
          <td class="govuk-table__cell" th:text="${notification.providerCaseReferenceNumber}"></td>
          <td class="govuk-table__cell" th:text="${notification.clientName}"></td>
          <td class="govuk-table__cell" th:text="${notification.feeEarner}"></td>
        </tr>
        </tbody>
      </table>
    </div>
    <nav
        th:replace="~{partials/pagination :: pagination(page=${notificationsSearchResults})}"></nav>
  </div>
</div>
</body>
</html>
